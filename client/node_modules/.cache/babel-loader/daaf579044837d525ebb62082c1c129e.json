{"ast":null,"code":"var _jsxFileName = \"/Users/eddyyeung/Desktop/nclex-countdown/src/components/Prize.js\";\nimport React, { useState, useContext } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../context/GlobalState\";\nexport default function Prize({\n  title,\n  pointVal,\n  description,\n  counter,\n  id\n}) {\n  const [show, setShow] = useState(false);\n  const [error, setError] = useState(false);\n  const {\n    points\n  } = useContext(GlobalContext);\n  const newCount = counter - 1;\n  const newPoints = points - pointVal;\n\n  const redeemPrize = e => {\n    e.preventDefault();\n    const updatePrize = {\n      counter: counter - 1\n    };\n    const updatePoints = {\n      points: points - pointVal\n    };\n    axios.post(`http://localhost:5000/prizes/update/${id}`, updatePrize).then(res => console.log(\"Successfully updated prize\")).catch(err => console.log(err));\n    window.location = \"/\";\n  };\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      onClose: () => setError(false),\n      dismissible: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, \"Nice Try Slick\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, \"You either don't have enough points or you can't redeem this prize anymore. \\uD83D\\uDE11\"));\n  }\n\n  if (show) {\n    return /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      onClose: () => setShow(false),\n      dismissible: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, \"Are you sure?\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, \"This action is reversible, but I don't want to have to change it manually on the back end so make up your damn mind now.\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: redeemPrize,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"Yes\"));\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"prize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    style: {\n      borderBottomColor: \"#66cf8c\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, pointVal, \" Pts \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      float: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 26\n    }\n  }, counter, \" left\"))), /*#__PURE__*/React.createElement(Card.Body, {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, title), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, description), /*#__PURE__*/React.createElement(Button, {\n    className: \"prize-button\",\n    onClick: () => {\n      if (newCount < 0 || newPoints < 0) {\n        setError(true);\n      } else {\n        setShow(true);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Redeem\")));\n}","map":{"version":3,"sources":["/Users/eddyyeung/Desktop/nclex-countdown/src/components/Prize.js"],"names":["React","useState","useContext","Card","Button","Alert","axios","GlobalContext","Prize","title","pointVal","description","counter","id","show","setShow","error","setError","points","newCount","newPoints","redeemPrize","e","preventDefault","updatePrize","updatePoints","post","then","res","console","log","catch","err","window","location","borderBottomColor","float","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nexport default function Prize({ title, pointVal, description, counter, id }) {\n  const [show, setShow] = useState(false);\n  const [error, setError] = useState(false);\n  const { points } = useContext(GlobalContext);\n\n  const newCount = counter - 1;\n  const newPoints = points - pointVal;\n\n  const redeemPrize = e => {\n    e.preventDefault();\n\n    const updatePrize = {\n      counter: counter - 1\n    };\n\n    const updatePoints = {\n      points: points - pointVal\n    };\n\n    axios\n      .post(`http://localhost:5000/prizes/update/${id}`, updatePrize)\n      .then(res => console.log(\"Successfully updated prize\"))\n      .catch(err => console.log(err));\n\n    window.location = \"/\";\n  };\n\n  if (error) {\n    return (\n      <Alert variant=\"danger\" onClose={() => setError(false)} dismissible>\n        <Alert.Heading>Nice Try Slick</Alert.Heading>\n        <p>\n          You either don't have enough points or you can't redeem this prize\n          anymore. ðŸ˜‘\n        </p>\n        \n      </Alert>\n    );\n  }\n\n  if (show) {\n    return (\n      <Alert variant=\"danger\" onClose={() => setShow(false)} dismissible>\n        <Alert.Heading>Are you sure?</Alert.Heading>\n        <p>\n          This action is reversible, but I don't want to have to change it\n          manually on the back end so make up your damn mind now.\n        </p>\n        <Button onClick={redeemPrize}>Yes</Button>\n      </Alert>\n    );\n  }\n\n  return (\n    <Card className=\"prize\">\n      <Card.Header style={{ borderBottomColor: \"#66cf8c\" }}>\n        {\" \"}\n        <strong>\n          {pointVal} Pts <span style={{ float: \"right\" }}>{counter} left</span>\n        </strong>\n      </Card.Header>\n      <Card.Body style={{ textAlign: \"center\" }}>\n        <Card.Title>{title}</Card.Title>\n        <Card.Text>{description}</Card.Text>\n        <Button\n          className=\"prize-button\"\n          onClick={() => {\n            if (newCount < 0 || newPoints < 0) {\n              setError(true);\n            } else {\n              setShow(true);\n            }\n          }}\n        >\n          Redeem\n        </Button>\n      </Card.Body>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}